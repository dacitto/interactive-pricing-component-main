<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  
  <title>Frontend Mentor | Interactive pricing component</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="main-title">
  <h1>
    Simple, traffic-based pricing
  </h1>
  <h2>
    Sign-up for our 30-day trail. <br/>
    No credit card required.
  </h2>
</div>
<main class="card">
  <h2 class="card-title"><span id="pagesNumber"></span> pageviews</h2>
  <input type="range" class="range" id='range' min="0" max='4' value="2" step="1" >

 <div class="pricing">
<span class="price" id="price"></span>
<span class="month"> / month</span></div>

 <div>
   <div class="billing">

     Monthly Billing
     <input type="checkbox" id="toggle-button" onclick="discountClick(this)"/>
     
    </span>
    Yearly Billing
    <span class="yearly-billing">-25%</span>
  </div>
<hr>
<ul >
  <li><span class="icon-check"></span> Unlimited websites</li>
  <li><span class="icon-check"></span> 100% data ownership</li>
  <li><span class="icon-check"></span> Email reports</li>
</ul>
<button>Start my trail</button>
 </div>
</main>

<script >
let pageviews = function (price) {
  switch (price) {
      case 8:
        return "10K";  
      break;
      case 12:
      return "50K"  ; 
      break;
      case 16: 
      return "100K" ;  
      break;
      case 24: 
      return "500K"  ; 
      break;
      case 36:   
      return "1M";
      break;
  }
}



let pricesArray =[8,12,16,24,36];

let range = document.getElementById("range");
let price = document.getElementById("price");
let pagesNumber = document.getElementById("pagesNumber");
let discount = document.getElementById("toggle-button");
pagesNumber.innerHTML =  pageviews(pricesArray[range.value]);           
price.innerHTML = '$'+pricesArray[range.value]+'.00';
//pagesNumber.innerHTML = range.value;
range.style.background = 'linear-gradient(90deg,hsl(174, 77%, 80%) '+(range.value*100)/4+'%, #EEE '+(range.value*100)/4+'%)'; 
range.oninput = function(){
  range.style.background = 'linear-gradient(90deg,hsl(174, 77%, 80%) '+(this.value*100)/4+'%, #EEE '+(this.value*100)/4+'%)'; 
  pagesNumber.innerHTML =  pageviews(pricesArray[this.value]);           
  if (discount.checked){
    price.innerHTML = '$'+pricesArray[this.value]*0.75+'.00';
  }else{
    price.innerHTML = '$'+pricesArray[this.value]+'.00';
  }
};
function discountClick(e){
  if (e.checked){
    console.log(e.checked);
    price.innerHTML = '$'+pricesArray[range.value]*0.75+'.00';
  }else{

    price.innerHTML = '$'+pricesArray[range.value]+'.00';
  }
};

</script>
</body>

</html>